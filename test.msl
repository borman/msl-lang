fun on_start
  print ["Игра начинается, игроков: ", NPlayers]
end

fun on_turn N
  do print ["Ход номер ", N]
  do buy [2, RawPrice]
  do sell [production MyId, ProductionPrice]
  if N%2 = 1 then
    MinProd = 2
  end else
    MinProd = 1
  end

  ; Интеграл от кол-ва продукции
  NRich = 0
  for I from 1 to NPlayers
    $Something(I) = $Something(I) + production I
    NRich = NRich + if balance I > 10000 then 1 else 0
  end

  ; Бессмысленная, но сложная формула
  ComplexForm = 2 * (NRich + MinProd/100 - 70) + MinProd * balance MyId * NPlayers

  ToProduce = min [2, raw MyId]
  do produce ToProduce
end
